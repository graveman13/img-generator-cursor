# Product Requirements Document (PRD)
## Img Generator

### 1. Огляд проекту

**Назва проекту:** Img Generator  
**Тип проекту:** Web-застосунок для генерації зображень з тексту  
**Архітектура:** Frontend + Backend (API)

### 2. Цілі проекту

- Створити веб-застосунок для генерації зображень на основі текстових описів
- Забезпечити безпечну авторизацію користувачів
- Надати можливість збереження та перегляду згенерованих зображень
- Створити інтуїтивний користувацький інтерфейс

### 3. Технічний стек

#### Frontend
- **Framework:** React 18+ з Vite
- **Мова програмування:** TypeScript
- **Стилізація:** CSS + Material-UI
- **Роутинг:** React Router
- **Форми:** React Hook Form
- **Авторизація:** JWT токени

#### Backend
- **Runtime:** Node.js
- **API для генерації зображень:** Replicate.com
- **Авторизація:** JWT
- **База даних:** (потребує визначення)

### 4. Функціональні вимоги

#### 4.1 Авторизація
- **FR-001:** Користувач може зареєструватися в системі
- **FR-002:** Користувач може увійти в систему за допомогою email/пароль
- **FR-003:** Система використовує JWT токени для авторизації
- **FR-004:** Приватні роути захищені від неавторизованих користувачів
- **FR-005:** Користувач може вийти з системи

#### 4.2 Генерація зображень
- **FR-006:** Користувач може ввести текстовий опис для генерації зображення
- **FR-007:** Система відправляє запит на backend для генерації зображення
- **FR-008:** Backend використовує Replicate.com API для створення зображення
- **FR-009:** Згенероване зображення відображається користувачу
- **FR-010:** Після генерації з'являється кнопка "Зберегти"

#### 4.3 Управління зображеннями
- **FR-011:** Користувач може зберегти згенероване зображення
- **FR-012:** Збережені зображення зберігаються в базі даних пов'язані з користувачем
- **FR-013:** Користувач може переглянути всі свої збережені зображення у вигляді grid
- **FR-014:** Grid завантажується з backend при завантаженні сторінки

### 5. Структура застосунку

#### 5.1 Frontend роути
```
/login - Сторінка авторизації
/register - Сторінка реєстрації (опціонально)
/ - Головна сторінка застосунку (приватний роут)
```

#### 5.2 Backend API endpoints
```
POST /api/auth/login - Авторизація користувача
POST /api/auth/register - Реєстрація користувача
POST /api/images/generate - Генерація зображення
POST /api/images/save - Збереження зображення
GET /api/images/user/:userId - Отримання зображень користувача
```

### 6. Дизайн інтерфейсу

#### 6.1 Сторінка авторизації
- Форма з полями email та пароль
- Кнопка "Увійти"
- Посилання на реєстрацію (якщо потрібно)
- Валідація форми з Material-UI компонентами

#### 6.2 Головна сторінка
**Компоненти:**
- **Header:** Логотип, кнопка виходу
- **Generator Section:** 
  - Текстове поле для опису зображення
  - Кнопка "Генерувати"
  - Область відображення згенерованого зображення
  - Кнопка "Зберегти" (з'являється після генерації)
- **Gallery Section:**
  - Grid збережених зображень користувача
  - Lazy loading для великої кількості зображень

### 7. Технічні вимоги

#### 7.1 Frontend
- **TR-001:** Використовувати TypeScript для всіх компонентів
- **TR-002:** Реалізувати суворе типізування для API відповідей
- **TR-003:** Використовувати React Hook Form для валідації форм
- **TR-004:** Реалізувати приватні роути з перевіркою JWT токенів
- **TR-005:** Використовувати Material-UI для консистентного дизайну
- **TR-006:** Реалізувати responsive дизайн

#### 7.2 Backend
- **TR-007:** Використовувати TypeScript для backend коду
- **TR-008:** Реалізувати middleware для JWT авторизації
- **TR-009:** Інтегрувати Replicate.com API для генерації зображень
- **TR-010:** Реалізувати збереження зображень (URL або base64)
- **TR-011:** Налаштувати CORS для frontend домену
- **TR-012:** Реалізувати error handling та валідацію

### 8. Нефункціональні вимоги

#### 8.1 Продуктивність
- **NFR-001:** Час генерації зображення не повинен перевищувати 30 секунд
- **NFR-002:** Сторінка повинна завантажуватися менше ніж за 3 секунди
- **NFR-003:** Gallery повинна підтримувати lazy loading

#### 8.2 Безпека
- **NFR-004:** JWT токени повинні мати термін дії
- **NFR-005:** Паролі повинні бути захешовані
- **NFR-006:** API повинно мати rate limiting

#### 8.3 Зручність використання
- **NFR-007:** Інтерфейс повинен бути інтуїтивним
- **NFR-008:** Повинні бути показані індикатори завантаження
- **NFR-009:** Помилки повинні відображатися зрозуміло

### 9. Структура даних

#### 9.1 User
```typescript
interface User {
  id: string;
  email: string;
  password: string; // hashed
  createdAt: Date;
  updatedAt: Date;
}
```

#### 9.2 Image
```typescript
interface Image {
  id: string;
  userId: string;
  prompt: string;
  imageUrl: string;
  createdAt: Date;
}
```

### 10. MVP фази

#### Фаза 1 (MVP)
- Базова авторизація (логін/логаут)
- Генерація одного зображення
- Збереження зображення
- Простий перегляд збережених зображень

#### Фаза 2 (Розширення)
- Покращений UI/UX
- Додаткові параметри генерації
- Пошук по збереженим зображенням
- Експорт зображень

### 11. Критерії прийняття

- Користувач може успішно авторизуватися
- Користувач може згенерувати зображення з текстового опису
- Користувач може зберегти згенероване зображення
- Користувач може переглянути всі свої збережені зображення
- Приватні роути працюють коректно
- Застосунок працює без критичних помилок

### 12. Ризики та обмеження

- **Залежність від Replicate.com API** - потрібен backup план
- **Швидкість генерації зображень** - залежить від зовнішнього сервісу
- **Збереження зображень** - потрібно визначити стратегію (cloud storage)
- **Масштабування** - планування для великої кількості користувачів

### 13. Подальші кроки

1. Налаштування development середовища
2. Створення базової структури проекту
3. Реалізація backend API
4. Створення frontend компонентів
5. Інтеграція та тестування
6. Деплоймент MVP версії